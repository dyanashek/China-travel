# Information bot
## Change language: [English](README.en.md)
***
Телеграмм бот, представляющий услуги компании по доставке грузов из Китая. 
## [DEMO](README.demo.md)
## [LIVE](https://t.me/ChinaTrevel_bot)
## Функционал:
1. Навигационное меню для ответа на самые популярные вопросы
2. Распределение пользователей между менеджерами
3. Расчет стоимости доставки (пересылка сообщения в соответствующий чат и получение ответа из него)
4. Сбор статистики по пользователям, отслеживание посещенных разделов
5. Уведомление закрепленного менеджера о пользователе, который не связался с ним в течение 15 минут с начала использования бота
## Команды:
**Для удобства рекомендуется добавить данные команды в боковое меню бота, используя [BotFather](https://t.me/BotFather).**
- /menu - стартовое меню;
- /stat - выводит информацию о всех пользователях, которые впервые пользовались ботом с момента крайнего вводы данной команды (доступно только **DIRECTOR_ID**);
- /user - команда, которую вводит менеджер, указывая ник пользователя, который с ним связался (засчитывает пользователя в статистику менеджера, доступно **MANAGER_ID**);
## Установка и использование:
- Создайте файл .env, содержащий следующие переменные:
> файл создается в корневой папке проекта
  - в файле указать токен телеграмм бота:\
  **TELEGRAM_TOKEN**=ТОКЕН
  - ID бота (цифры в токене):
  **BOT_ID**=ID
  - в **DIRECTOR_ID** указан ID пользователя, имеющего доступ к выполнению команды stat. (например: DIRECTOR_ID=1234)
> Для определения ID пользователя нужно отправить следующему [боту](https://t.me/getmyid_bot) любое сообщение с соответствующего аккаунта. Значение, содержащееся в **Your user ID** - ID пользователя
- Внести менеджеров в china_travel.db в таблицу managers в соответствии с полями (id  менеджера, его имя, ник в telegram)
- Установить виртуальное окружение и активировать его (при необходимости):
> Установка и активация в корневой папке проекта
```sh
python3 -m venv venv
source venv/bin/activate # for macOS
source venv/Scripts/activate # for Windows
```
- Установить зависимости:
```sh
pip install -r requirements.txt
```
- Запустить проект:
```sh
python3 main.py
```
